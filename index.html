<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Dick Golf</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="main.css">
		<script src="./Winwheel.min.js"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 7]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<h1>Dick Golf</h1>
		<button onClick="discWheel.startAnimation();">Spin</button>
		<div id='messBox'></div>
		<div id='canvasContainer'>
			<canvas id='canvasWheel' width='400' height='400'>
				Canvas not supported, use another browser.
			</canvas>
		</div>
		<script>
		var discWheel = new Winwheel({
	'canvasId': 'canvasWheel',
	'textFontSize': '18',
	'innerRadius': '35',
	'numSegments': 13,
	'pointerAngle': 180,
	'segments':
		[
			{ 'fillStyle': '#e34663', 'text': 'Midrange' },
			{ 'fillStyle': '#e4b205', 'text': 'Yellow' },
			{ 'fillStyle': '#d65825', 'text': 'Blind' },
			{ 'fillStyle': '#d27c0f', 'text': 'No run-up' },
			{ 'fillStyle': '#c96301', 'text': 'Putter' },
			{ 'fillStyle': '#4a241b', 'text': 'Distraction' },
			{ 'fillStyle': '#034f35', 'text': 'Tomahawk' },
			{ 'fillStyle': '#c81e07', 'text': 'Backhand' },
			{ 'fillStyle': '#a04d45', 'text': 'Roller' },
			{ 'fillStyle': '#3f9401', 'text': 'Driver' },
			{ 'fillStyle': '#018b35', 'text': 'Shock collar' },
			{ 'fillStyle': '#64dafc', 'text': 'Thumber' },
			{ 'fillStyle': '#005e00', 'text': 'Forehand' }
		],
	'animation':
	{
		'type': 'spinToStop',
		'duration': 5,
		'spins': 6,
		'callbackFinished' : 'alertWhich()'
	}
});

function alertWhich()
    {
        // Call getIndicatedSegment() function to return pointer to the segment pointed to on wheel.
        let winningSegment = discWheel.getIndicatedSegment();
        // Basic alert of the segment text which is the prize name.
				message(winningSegment.text + "!");
				// Stop animation and set angle back to 0.
				discWheel.stopAnimation(false);
				discWheel.rotationAngle = 0;
				discWheel.draw();
		}
		function message(text) {
			var mess = document.getElementById('messBox');
			mess.innerText = text;
			mess.style.display = 'block';
			window.setTimeout(function() {
				mess.style.display = 'none';
			}, 3000);
		}
</script>
	</body>
</html>